<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamCast - Live Streaming Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0f0f0f;
            color: #fff;
            line-height: 1.6;
        }
        
        .container {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            gap: 20px;
        }
        
        /* Main player section */
        .player-section {
            flex: 3;
            min-width: 0; /* Prevents flex overflow */
        }
        
        /* Video player container */
        .video-container {
            position: relative;
            background-color: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-bottom: 20px;
        }
        
        #video-player {
            width: 100%;
            height: auto;
            display: block;
            cursor: pointer;
        }
        
        .player-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            padding: 30px 20px 20px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .video-container:hover .player-overlay {
            opacity: 1;
        }
        
        /* Video controls */
        .video-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 10px;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .control-btn {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .control-btn:hover {
            color: #ff0040;
        }
        
        .progress-container {
            flex-grow: 1;
            margin: 0 15px;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .progress {
            height: 100%;
            background-color: #ff0040;
            width: 0%;
            transition: width 0.1s;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        /* Stream info */
        .stream-info {
            background-color: #1a1a1a;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .stream-title {
            font-size: 22px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .live-badge {
            background-color: #ff0040;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .stream-stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Sidebar section */
        .sidebar {
            flex: 1;
            min-width: 350px;
        }
        
        /* Chat section */
        .chat-container {
            background-color: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            height: 500px;
        }
        
        .chat-header {
            background-color: #252525;
            padding: 15px 20px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-messages {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .chat-message {
            display: flex;
            gap: 10px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .message-content {
            flex-grow: 1;
        }
        
        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
        }
        
        .username {
            font-weight: bold;
            font-size: 14px;
        }
        
        .message-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: 12px;
        }
        
        .message-text {
            background-color: #252525;
            padding: 10px 15px;
            border-radius: 18px;
            border-top-left-radius: 5px;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .chat-input-container {
            padding: 15px 20px;
            background-color: #252525;
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex-grow: 1;
            background-color: #333;
            border: none;
            border-radius: 20px;
            padding: 12px 20px;
            color: white;
            font-size: 14px;
        }
        
        .chat-send-btn {
            background-color: #ff0040;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Stream settings */
        .settings-container {
            background-color: #1a1a1a;
            border-radius: 12px;
            padding: 20px;
        }
        
        .settings-header {
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .settings-option {
            margin-bottom: 15px;
        }
        
        .settings-label {
            display: block;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .quality-select, .speed-select {
            width: 100%;
            background-color: #252525;
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
        }
        
        /* Stream URL info */
        .stream-url-info {
            background-color: #1a1a1a;
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
            font-size: 14px;
        }
        
        .stream-url {
            background-color: #252525;
            padding: 10px;
            border-radius: 8px;
            margin-top: 8px;
            word-break: break-all;
            font-family: monospace;
            color: #4CAF50;
        }
        
        /* Loading indicator */
        .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            display: none;
        }
        
        .spinner {
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top: 5px solid #ff0040;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Error message */
        .error-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            display: none;
        }
        
        /* Responsive design */
        @media (max-width: 1200px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                min-width: 100%;
            }
        }
        
        /* Player controls active state */
        .control-btn.active {
            color: #ff0040;
        }
        
        /* Live viewers animation */
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .live-viewers {
            animation: pulse 2s infinite;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #252525;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="player-section">
            <!-- Video player -->
            <div class="video-container">
                <video id="video-player" poster="https://images.unsplash.com/photo-1593305841991-05c297ba4575?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80">
                    <!-- Your custom stream URL is set here -->
                    <source src="https://wasitv-pro.site/dd.php?c=star1in" type="application/x-mpegURL">
                    Your browser does not support the video tag.
                </video>
                
                <!-- Loading indicator -->
                <div class="loading-indicator" id="loading-indicator">
                    <div class="spinner"></div>
                    <div>Loading stream...</div>
                </div>
                
                <!-- Error message -->
                <div class="error-message" id="error-message">
                    <div style="font-size: 24px; margin-bottom: 10px; color: #ff0040;">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div id="error-text">Unable to load the stream</div>
                    <button id="retry-btn" style="margin-top: 15px; background-color: #ff0040; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">Retry</button>
                </div>
                
                <div class="player-overlay">
                    <div class="video-controls">
                        <div class="control-group">
                            <button class="control-btn" id="play-pause-btn">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="control-btn" id="mute-btn">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <div class="volume-container">
                                <input type="range" id="volume-slider" min="0" max="100" value="100" class="volume-slider">
                            </div>
                            <div class="time-display">
                                <span id="current-time">0:00</span> / <span id="duration">LIVE</span>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <button class="control-btn" id="settings-btn">
                                <i class="fas fa-cog"></i>
                            </button>
                            <button class="control-btn" id="theater-btn">
                                <i class="fas fa-expand-alt"></i>
                            </button>
                            <button class="control-btn" id="fullscreen-btn">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" id="progress-bar">
                            <div class="progress" id="progress"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Stream information -->
            <div class="stream-info">
                <h1 class="stream-title">
                    <span>Live Streaming: Star1 TV Channel</span>
                    <span class="live-badge">
                        <i class="fas fa-circle"></i> LIVE
                    </span>
                </h1>
                <p>This is a live stream from Star1 TV. Enjoy the broadcast with full interactive features.</p>
                
                <div class="stream-stats">
                    <div class="stat">
                        <i class="fas fa-eye"></i>
                        <span class="live-viewers" id="viewer-count">15,423</span> viewers
                    </div>
                    <div class="stat">
                        <i class="fas fa-thumbs-up"></i>
                        <span id="like-count">4.7K</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-share"></i>
                        Share
                    </div>
                </div>
            </div>
            
            <!-- Stream URL info -->
            <div class="stream-url-info">
                <div><i class="fas fa-info-circle"></i> Currently streaming from:</div>
                <div class="stream-url">https://wasitv-pro.site/dd.php?c=star1in</div>
            </div>
        </div>
        
        <!-- Sidebar with chat and settings -->
        <div class="sidebar">
            <!-- Chat section -->
            <div class="chat-container">
                <div class="chat-header">
                    <span>Live Chat</span>
                    <span id="chat-user-count">2,148 participants</span>
                </div>
                
                <div class="chat-messages" id="chat-messages">
                    <!-- Chat messages will be added here by JavaScript -->
                </div>
                
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chat-input" placeholder="Send a message to the stream...">
                    <button class="chat-send-btn" id="chat-send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            
            <!-- Stream settings -->
            <div class="settings-container">
                <div class="settings-header">
                    <span>Stream Settings</span>
                    <button class="control-btn" id="close-settings-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="settings-option">
                    <label class="settings-label">Quality</label>
                    <select class="quality-select" id="quality-select">
                        <option value="auto">Auto (Recommended)</option>
                        <option value="1080p">1080p (Full HD)</option>
                        <option value="720p">720p (HD)</option>
                        <option value="480p">480p (SD)</option>
                        <option value="360p">360p</option>
                    </select>
                </div>
                
                <div class="settings-option">
                    <label class="settings-label">Playback Speed</label>
                    <select class="speed-select" id="speed-select">
                        <option value="0.25">0.25x</option>
                        <option value="0.5">0.5x</option>
                        <option value="0.75">0.75x</option>
                        <option value="1" selected>Normal (1x)</option>
                        <option value="1.25">1.25x</option>
                        <option value="1.5">1.5x</option>
                        <option value="2">2x</option>
                    </select>
                </div>
                
                <div class="settings-option">
                    <label class="settings-label">Stream Source</label>
                    <input type="text" class="quality-select" id="stream-url-input" value="https://wasitv-pro.site/dd.php?c=star1in">
                    <button id="update-stream-btn" style="margin-top: 10px; width: 100%; background-color: #ff0040; color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer;">Update Stream URL</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const videoPlayer = document.getElementById('video-player');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const muteBtn = document.getElementById('mute-btn');
        const volumeSlider = document.getElementById('volume-slider');
        const progressBar = document.getElementById('progress-bar');
        const progress = document.getElementById('progress');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const theaterBtn = document.getElementById('theater-btn');
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        const settingsBtn = document.getElementById('settings-btn');
        const closeSettingsBtn = document.getElementById('close-settings-btn');
        const qualitySelect = document.getElementById('quality-select');
        const speedSelect = document.getElementById('speed-select');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const chatSendBtn = document.getElementById('chat-send-btn');
        const viewerCount = document.getElementById('viewer-count');
        const chatUserCount = document.getElementById('chat-user-count');
        const likeCount = document.getElementById('like-count');
        const loadingIndicator = document.getElementById('loading-indicator');
        const errorMessage = document.getElementById('error-message');
        const errorText = document.getElementById('error-text');
        const retryBtn = document.getElementById('retry-btn');
        const streamUrlInput = document.getElementById('stream-url-input');
        const updateStreamBtn = document.getElementById('update-stream-btn');
        
        // Stream URL
        let currentStreamUrl = "https://wasitv-pro.site/dd.php?c=star1in";
        
        // Sample chat messages
        const sampleMessages = [
            {username: "StreamFan42", message: "Great stream! The quality is excellent.", time: "2:15"},
            {username: "TVWatcher", message: "Star1 always has the best content!", time: "2:30"},
            {username: "LiveViewer", message: "Can we get more shows like this?", time: "3:05"},
            {username: "MediaLover", message: "How often does this channel stream live?", time: "3:45"},
            {username: "BroadcastTeam", message: "Thanks for watching everyone! More content coming soon.", time: "4:10"}
        ];
        
        // Sample usernames for random chat
        const usernames = [
            "AlexR", "TVLover", "StreamWatcher", "MediaFan", "BroadcastViewer", 
            "ChannelSub", "LiveTVFan", "Entertainment", "ShowTime", "StarViewer"
        ];
        
        // Initialize player
        function initPlayer() {
            // Show loading indicator initially
            loadingIndicator.style.display = 'block';
            
            // Setup video event listeners
            videoPlayer.addEventListener('loadeddata', function() {
                loadingIndicator.style.display = 'none';
                errorMessage.style.display = 'none';
                console.log("Stream loaded successfully");
            });
            
            videoPlayer.addEventListener('waiting', function() {
                loadingIndicator.style.display = 'block';
            });
            
            videoPlayer.addEventListener('playing', function() {
                loadingIndicator.style.display = 'none';
                errorMessage.style.display = 'none';
            });
            
            videoPlayer.addEventListener('error', function(e) {
                loadingIndicator.style.display = 'none';
                errorMessage.style.display = 'block';
                
                // Determine error type
                if (videoPlayer.error) {
                    switch(videoPlayer.error.code) {
                        case 1:
                            errorText.textContent = "Video loading was aborted.";
                            break;
                        case 2:
                            errorText.textContent = "Network error. Please check your connection.";
                            break;
                        case 3:
                            errorText.textContent = "Error in video decoding.";
                            break;
                        case 4:
                            errorText.textContent = "Video format not supported.";
                            break;
                        default:
                            errorText.textContent = "An error occurred while loading the stream.";
                    }
                }
            });
            
            // Play/Pause functionality
            playPauseBtn.addEventListener('click', togglePlayPause);
            videoPlayer.addEventListener('click', togglePlayPause);
            
            // Mute/Unmute functionality
            muteBtn.addEventListener('click', toggleMute);
            
            // Volume control
            volumeSlider.addEventListener('input', function() {
                videoPlayer.volume = this.value / 100;
                muteBtn.innerHTML = this.value == 0 ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
            });
            
            // Progress bar - not fully applicable for live streams but kept for UI consistency
            progressBar.addEventListener('click', function(e) {
                // For live streams, this would typically not seek but we keep it for UI consistency
                console.log("Live stream - seeking not available");
            });
            
            // Theater mode
            theaterBtn.addEventListener('click', toggleTheaterMode);
            
            // Fullscreen mode
            fullscreenBtn.addEventListener('click', toggleFullscreen);
            
            // Settings
            settingsBtn.addEventListener('click', function() {
                document.querySelector('.settings-container').style.display = 'block';
            });
            
            closeSettingsBtn.addEventListener('click', function() {
                document.querySelector('.settings-container').style.display = 'none';
            });
            
            // Quality selection
            qualitySelect.addEventListener('change', function() {
                // In a real app, this would change the video source quality
                console.log(`Quality changed to: ${this.value}`);
                showNotification(`Stream quality changed to ${this.value}`);
            });
            
            // Playback speed
            speedSelect.addEventListener('change', function() {
                videoPlayer.playbackRate = parseFloat(this.value);
                showNotification(`Playback speed changed to ${this.value}x`);
            });
            
            // Stream URL update
            updateStreamBtn.addEventListener('click', function() {
                const newUrl = streamUrlInput.value.trim();
                if (newUrl && newUrl !== currentStreamUrl) {
                    currentStreamUrl = newUrl;
                    updateVideoSource(newUrl);
                    showNotification("Stream URL updated");
                    
                    // Update the displayed URL
                    document.querySelector('.stream-url').textContent = newUrl;
                }
            });
            
            // Retry button for error recovery
            retryBtn.addEventListener('click', function() {
                updateVideoSource(currentStreamUrl);
            });
            
            // Chat functionality
            chatSendBtn.addEventListener('click', sendChatMessage);
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendChatMessage();
            });
            
            // Initialize sample chat messages
            sampleMessages.forEach(msg => addChatMessage(msg.username, msg.message, msg.time));
            
            // Simulate live chat messages
            setInterval(addRandomChatMessage, 8000);
            
            // Simulate viewer count changes
            setInterval(updateViewerCount, 5000);
            
            // Initialize like count with a click handler
            likeCount.parentElement.addEventListener('click', function() {
                let currentLikes = parseInt(likeCount.textContent.replace('K', '') * 1000);
                currentLikes += 1;
                
                if (currentLikes >= 1000) {
                    likeCount.textContent = (currentLikes / 1000).toFixed(1) + 'K';
                } else {
                    likeCount.textContent = currentLikes;
                }
                
                // Visual feedback
                this.style.color = '#ff0040';
                setTimeout(() => {
                    this.style.color = 'rgba(255, 255, 255, 0.7)';
                }, 300);
            });
            
            // Show initial notification
            setTimeout(() => {
                showNotification("Live stream loaded. Chat is active.");
            }, 1500);
            
            // Try to autoplay the stream
            setTimeout(() => {
                const playPromise = videoPlayer.play();
                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    }).catch(error => {
                        console.log("Autoplay prevented, waiting for user interaction");
                    });
                }
            }, 1000);
        }
        
        // Update video source
        function updateVideoSource(url) {
            loadingIndicator.style.display = 'block';
            errorMessage.style.display = 'none';
            
            // Save current time and volume
            const currentTime = videoPlayer.currentTime;
            const currentVolume = videoPlayer.volume;
            const wasPlaying = !videoPlayer.paused;
            
            // Change the source
            videoPlayer.src = url;
            videoPlayer.load();
            
            // Restore volume
            videoPlayer.volume = currentVolume;
            volumeSlider.value = currentVolume * 100;
            
            // Try to play if it was playing before
            if (wasPlaying) {
                const playPromise = videoPlayer.play();
                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    }).catch(error => {
                        console.log("Playback prevented after source change");
                    });
                }
            }
        }
        
        // Player control functions
        function togglePlayPause() {
            if (videoPlayer.paused) {
                videoPlayer.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                videoPlayer.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        }
        
        function toggleMute() {
            videoPlayer.muted = !videoPlayer.muted;
            muteBtn.innerHTML = videoPlayer.muted ? 
                '<i class="fas fa-volume-mute"></i>' : 
                '<i class="fas fa-volume-up"></i>';
            volumeSlider.value = videoPlayer.muted ? 0 : videoPlayer.volume * 100;
        }
        
        function toggleTheaterMode() {
            const container = document.querySelector('.container');
            const playerSection = document.querySelector('.player-section');
            
            if (playerSection.classList.contains('theater-mode')) {
                playerSection.classList.remove('theater-mode');
                theaterBtn.innerHTML = '<i class="fas fa-expand-alt"></i>';
                container.style.flexDirection = 'row';
            } else {
                playerSection.classList.add('theater-mode');
                theaterBtn.innerHTML = '<i class="fas fa-compress-alt"></i>';
                container.style.flexDirection = 'column';
            }
        }
        
        function toggleFullscreen() {
            const videoContainer = document.querySelector('.video-container');
            
            if (!document.fullscreenElement) {
                if (videoContainer.requestFullscreen) {
                    videoContainer.requestFullscreen();
                } else if (videoContainer.mozRequestFullScreen) {
                    videoContainer.mozRequestFullScreen();
                } else if (videoContainer.webkitRequestFullscreen) {
                    videoContainer.webkitRequestFullscreen();
                } else if (videoContainer.msRequestFullscreen) {
                    videoContainer.msRequestFullscreen();
                }
                fullscreenBtn.innerHTML = '<i class="fas fa-compress"></i>';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
                fullscreenBtn.innerHTML = '<i class="fas fa-expand"></i>';
            }
        }
        
        // Chat functions
        function sendChatMessage() {
            const message = chatInput.value.trim();
            if (message) {
                addChatMessage("You", message, "now");
                chatInput.value = '';
                
                // Simulate a response after a short delay
                setTimeout(() => {
                    const responses = [
                        "Thanks for your message!",
                        "Glad you're enjoying the stream!",
                        "We appreciate your feedback!",
                        "Thanks for watching!"
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addChatMessage("BroadcastTeam", randomResponse, "just now");
                }, 1000);
            }
        }
        
        function addChatMessage(username, message, time) {
            const messageEl = document.createElement('div');
            messageEl.className = 'chat-message';
            
            const avatarLetter = username.charAt(0).toUpperCase();
            const avatarColor = getAvatarColor(username);
            
            messageEl.innerHTML = `
                <div class="user-avatar" style="background-color: ${avatarColor}">${avatarLetter}</div>
                <div class="message-content">
                    <div class="message-header">
                        <span class="username">${username}</span>
                        <span class="message-time">${time}</span>
                    </div>
                    <div class="message-text">${message}</div>
                </div>
            `;
            
            chatMessages.appendChild(messageEl);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function addRandomChatMessage() {
            const username = usernames[Math.floor(Math.random() * usernames.length)];
            const messages = [
                "Great stream quality!",
                "What's the next program?",
                "Star1 is my favorite channel!",
                "Can you increase the volume?",
                "Love the content!",
                "When does this stream end?",
                "Perfect for my evening watch!",
                "Thanks for streaming this!"
            ];
            const message = messages[Math.floor(Math.random() * messages.length)];
            const time = `${Math.floor(Math.random() * 60)}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}`;
            
            addChatMessage(username, message, time);
        }
        
        function getAvatarColor(username) {
            // Generate a consistent color based on the username
            const colors = [
                '#ff0040', '#00a8ff', '#00d4aa', '#ffaa00', 
                '#9c27b0', '#3d5afe', '#ff6b6b', '#4caf50'
            ];
            
            let hash = 0;
            for (let i = 0; i < username.length; i++) {
                hash = username.charCodeAt(i) + ((hash << 5) - hash);
            }
            
            return colors[Math.abs(hash) % colors.length];
        }
        
        // Viewer count simulation
        function updateViewerCount() {
            let currentViewers = parseInt(viewerCount.textContent.replace(',', ''));
            // Randomly increase or decrease viewer count slightly
            const change = Math.floor(Math.random() * 100) - 30;
            currentViewers += change;
            
            // Ensure viewer count doesn't go too low
            if (currentViewers < 10000) currentViewers = 10000 + Math.floor(Math.random() * 5000);
            
            viewerCount.textContent = currentViewers.toLocaleString();
            
            // Update chat participant count too
            const chatParticipants = Math.floor(currentViewers * 0.15);
            chatUserCount.textContent = `${chatParticipants.toLocaleString()} participants`;
        }
        
        // Notification system
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background-color: #333;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 1000;
                font-size: 14px;
                animation: fadeInOut 3s ease-in-out;
            `;
            
            // Add styles for animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInOut {
                    0% { opacity: 0; transform: translateY(20px); }
                    10% { opacity: 1; transform: translateY(0); }
                    90% { opacity: 1; transform: translateY(0); }
                    100% { opacity: 0; transform: translateY(20px); }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(notification);
            
            // Remove notification after animation
            setTimeout(() => {
                notification.remove();
                style.remove();
            }, 3000);
        }
        
        // Initialize the player when page loads
        window.addEventListener('DOMContentLoaded', initPlayer);
    </script>
</body>
</html>